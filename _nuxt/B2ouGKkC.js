import{a4 as m,a5 as w,b as _,c as k,n as g,E as t,a6 as x,k as v}from"./Dcm-RDEy.js";const y=window.setInterval,b={__name:"AppLoadingBar",props:{throttle:{type:Number,default:200},duration:{type:Number,default:2e3}},setup(p){const r=p,o=v(),e=m({percent:0,show:!1,canSucceed:!0});let n=null,a=null,c;function s(){n&&clearInterval(n),a&&clearTimeout(a),n=null}function l(){e.show||(s(),e.percent=0,e.canSucceed=!0,r.throttle?a=setTimeout(u,r.throttle):u())}function f(i){e.percent=Math.min(100,Math.floor(e.percent+i))}function h(){e.percent=100,d()}function d(){s(),setTimeout(()=>{e.show=!1,setTimeout(()=>{e.percent=0},400)},500)}function u(){e.show=!0,c=1e4/Math.floor(r.duration),n=y(()=>{f(c)},100)}return o.hook("content:middleware:start",l),o.hook("page:start",l),o.hook("page:finish",h),w(()=>s),(i,S)=>(_(),k("div",{class:g(["nuxt-progress",{"nuxt-progress-failed":!t(e).canSucceed}]),style:x({width:`${t(e).percent}%`,left:t(e).left,opacity:t(e).show?1:0,backgroundSize:`${100/t(e).percent*100}% auto`})},null,6))}};export{b as default};
